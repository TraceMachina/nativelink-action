---
name: Prepare Nix
description: 'Common setup for all runs using Nix.'
runs:
  using: 'composite'
  steps:
    - name: Install Nix
      uses:
        >- # https://github.com/DeterminateSystems/nix-installer-action/releases/tag/v17
        DeterminateSystems/nix-installer-action@21a544727d0c62386e78b4befe52d19ad12692e3

    - name: Add Nix magic cache
      uses:
        >- # https://github.com/DeterminateSystems/magic-nix-cache-action/releases/tag/v11
        DeterminateSystems/magic-nix-cache-action@def9f5a5c6a6b8751c0534e8813a5d0ad2635660
